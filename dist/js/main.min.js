"use strict";var panelModule=function(){var e=function(e){m.tempData.registrationNumbers=e.registrationNumbers,m.tempData.totalNumbers=e.totalNumbers},t=function(){return m.tempData},r=function(e){e.constructor===Array?m.tempHTML=e:m.tempHTML.length=0},n=function(){return m.tempHTML},a=function(){return m.featureData},s=function(e){m.featureData=e},i=function(e){m.createPanel(e)},o=function(e){m.title=e},l=function(e){m.parcelData=e},u=function(){return m.parcelData},c=function(){return m.getDisplayType()},d=function(e){return m.setDisplayType(e)},f=function(e){console.log(e),map.flyTo({center:[e.lng,e.lat],zoom:e.zoom,bearing:0,speed:2,curve:1,easing:function(e){return e}}),console.log(e)},h=function(){switch(console.log(c()),console.log(m.displayType),!0){case"parcel"===m.displayType:console.log("loading parcel data");var e=u();console.log(e),console.log(n()),document.querySelector(".parcel-info.rental-info").innerHTML="",document.querySelector(".info-container > .rental").innerHTML='<a href="#"><article class="form-btn">START SURVEY</article></a>',document.querySelector(".info-container > .not-rental").innerHTML="",null!==e.propstreetcombined?document.querySelector(".info-container > .street-name").innerHTML=e.propstreetcombined:document.querySelector(".info-container > .street-name").innerHTML="Loading...",document.querySelector(".parcel-data.owner").innerHTML=m.tempHTML[3],document.querySelector(".parcel-data.building").innerHTML=m.tempHTML[4],map.setFilter("parcel-fill-hover",["==","parcelno",currentURLParams.parcel]);break;case"neighborhood"===m.displayType:case"district"===m.displayType:document.querySelector(".info-container > .street-name").innerHTML=m.title,document.querySelector(".info-container > .rental").innerHTML="",document.querySelector(".info-container > .total-rentals").innerHTML="<h4>TOTAL PROPERTIES</h4><p>0</p>",document.querySelector(".overall-number").innerHTML=m.tempHTML,document.querySelector(".info-container > .total-rentals > p").innerHTML=m.tempData.totalNumbers;break;default:document.querySelector(".info-container > .street-name").innerHTML=m.title,document.querySelector(".info-container > .rental").innerHTML="",document.querySelector(".info-container > .total-rentals").innerHTML="<h4>TOTAL PROPERTIES</h4><p>0</p>",document.querySelector(".overall-number").innerHTML=m.tempHTML,document.querySelector(".info-container > .total-rentals > p").innerHTML=m.tempData.totalNumbers}"active"===document.querySelector("#info").className||(document.querySelector("#info").className="active")},m={title:"",featureData:null,displayType:"",parcelData:null,tempHTML:[],tempData:{registrationNumbers:0,totalNumbers:0},createPanel:function(e){this.setDisplayType(e),this.clearPanel(),this.createPanelData()},setDisplayType:function(e){this.displayType=e},getDisplayType:function(){return this.displayType},clearPanel:function(){console.log("clearing panel"),this.tempData.registrationNumbers=0,this.tempData.totalNumbers=0,r("clear"),console.log(this.tempHTML),document.querySelector(".overall-number").innerHTML="",document.querySelector(".parcel-info").innerHTML="",document.querySelector(".info-container > .not-rental").innerHTML="",document.querySelector(".info-container > .rental").innerHTML="",document.querySelector(".info-container > .total-rentals").innerHTML="",document.querySelector(".parcel-data.owner").innerHTML="",document.querySelector(".parcel-data.building").innerHTML="",document.querySelector(".parcel-info.display-section").innerHTML=""},switchParcelDataViews:function(e){switch(e.getAttribute("data-view")){case"owner":var t="";t+='<article class="info-items"><span>OWNER CITY</span> '+m.parcelData.ownercity+"</article>",t+='<article class="info-items"><span>OWNER NAME</span> '+m.parcelData.ownername1+"</article>",t+='<article class="info-items"><span>OWNER STATE</span> '+m.parcelData.ownerstate+"</article>",t+='<article class="info-items"><span>OWNER ADDRESS</span> '+m.parcelData.ownerstreetaddr+"</article>",t+='<article class="info-items"><span>OWNER ZIP</span> '+m.parcelData.ownerzip+"</article>",document.querySelector(".parcel-info.display-section").innerHTML=t;break;case"building":var r="";r+='<article class="info-items"><span>PARCEL NUMBER</span> '+m.parcelData.pnum+"</article>",r+='<article class="info-items"><span>BASEMENT AREA</span> '+m.parcelData.resb_basementarea+"</article>",r+='<article class="info-items"><span>BUILDING CLASS</span> '+m.parcelData.resb_bldgclass+"</article>",r+='<article class="info-items"><span>CALCULATED VALUE</span> $'+parseInt(m.parcelData.resb_calcvalue).toLocaleString()+"</article>",r+='<article class="info-items"><span>EXTERIOR</span> '+m.parcelData.resb_exterior+"</article>",r+='<article class="info-items"><span>NUMBER OF FIREPLACES</span> '+m.parcelData.resb_fireplaces+"</article>",r+='<article class="info-items"><span>FLOOR AREA</span> '+m.parcelData.resb_floorarea.toLocaleString()+"</article>",r+='<article class="info-items"><span>GARAGE AREA</span> '+m.parcelData.resb_garagearea.toLocaleString()+"</article>",r+='<article class="info-items"><span>GARAGE TYPE</span> '+m.parcelData.resb_gartype+"</article>",r+='<article class="info-items"><span>GROUND AREA</span> '+m.parcelData.resb_groundarea.toLocaleString()+"</article>",r+='<article class="info-items"><span>HALF BATHS</span> '+m.parcelData.resb_halfbaths+"</article>",r+='<article class="info-items"><span>NUMBER OF BEDROOMS</span> '+m.parcelData.resb_nbed+"</article>",document.querySelector(".parcel-info.display-section").innerHTML=r}},createFeatureData:function(){switch(!0){case""!==currentURLParams.district:console.log(currentURLParams.district.split("%20")[1]),$.getJSON("http://gis.detroitmi.gov/arcgis/rest/services/NeighborhoodsApp/council_district/MapServer/1/query?where=&text=District+"+currentURLParams.district.split("%20")[1]+"&objectIds=&time=&geometry=&geometryType=esriGeometryEnvelope&inSR=&spatialRel=esriSpatialRelIntersects&relationParam=&outFields=&returnGeometry=true&returnTrueCurves=false&maxAllowableOffset=&geometryPrecision=&outSR=&returnIdsOnly=false&returnCountOnly=false&orderByFields=&groupByFieldsForStatistics=&outStatistics=&returnZ=false&returnM=false&gdbVersion=&returnDistinctValues=false&resultOffset=&resultRecordCount=&f=geojson",function(e){console.log(e),s(e.features[0]),console.log(a()),i("district")});break;case""!==currentURLParams.neighborhood:console.log(decodeURI(currentURLParams.neighborhood)),$.getJSON("http://gis.detroitmi.gov/arcgis/rest/services/NeighborhoodsApp/Neighborhoods/MapServer/1/query?where=&text="+decodeURI(currentURLParams.neighborhood)+"&objectIds=&time=&geometry=&geometryType=esriGeometryEnvelope&inSR=&spatialRel=esriSpatialRelIntersects&relationParam=&outFields=&returnGeometry=true&returnTrueCurves=false&maxAllowableOffset=&geometryPrecision=&outSR=&returnIdsOnly=false&returnCountOnly=false&orderByFields=&groupByFieldsForStatistics=&outStatistics=&returnZ=false&returnM=false&gdbVersion=&returnDistinctValues=false&resultOffset=&resultRecordCount=&f=geojson",function(e){console.log(e),s(e.features[0]),console.log(a()),i("neighborhood")});break;default:console.log(decodeURI(currentURLParams.parcel)),s({properties:{parcelno:currentURLParams.parcel}}),i("parcel")}},createPanelData:function(){switch(console.log(this.displayType),!0){case"parcel"===this.displayType:l(null),r("clear");var a=new Array(5);console.log("loading parcel data"),console.log(this.displayType),console.log(this.featureData.properties.parcelno),$.getJSON("http://apis.detroitmi.gov/assessments/parcel/"+this.featureData.properties.parcelno.replace(/\./g,"_")+"/",function(e){console.log(e),console.log(c()),a[3]='<div class="data-view-btn" data-view="owner" onclick="mapPanel.switchParcelDataViews(this)">OWNER INFORMATION <span>&#10095;</span></div>',a[4]='<div class="data-view-btn" data-view="building" onclick="mapPanel.switchParcelDataViews(this)">PROPERTY INFORMATION <span>&#10095;</span></div>',r(a),l(e),h()}),f(currentURLParams);break;case"neighborhood"===this.displayType:r("clear"),console.log("creating neighborhood panel");var s=turf.simplify(this.featureData,.003,!1);console.log(s),o(s.properties.name);var i=Terraformer.ArcGIS.convert(s.geometry);$.getJSON("https://services2.arcgis.com/qvkbeam7Wirps6zC/arcgis/rest/services/Rental_Inspections/FeatureServer/0/query?where=ACTION_DESCRIPTION%3D%27Issue+Initial+Registration%27+AND+ParcelNo+IS+NOT+NULL&objectIds=&time=&geometry="+encodeURI(JSON.stringify(i))+"&geometryType=esriGeometryPolygon&inSR=&spatialRel=esriSpatialRelIntersects&resultType=none&distance=0.0&units=esriSRUnit_Meter&returnGeodetic=false&outFields=&returnGeometry=true&multipatchOption=xyFootprint&maxAllowableOffset=&geometryPrecision=&outSR=&returnIdsOnly=false&returnCountOnly=true&returnExtentOnly=false&returnDistinctValues=false&orderByFields=&groupByFieldsForStatistics=&outStatistics=&resultOffset=&resultRecordCount=&returnZ=false&returnM=false&quantizationParameters=&sqlFormat=none&f=json&token=",function(a){console.log(t()),d("neighborhood");var s=t();console.log(s),s.totalNumbers+=a.count,s.registrationNumbers+=a.count,console.log(s),e(s),console.log(t()),$.getJSON("https://services2.arcgis.com/qvkbeam7Wirps6zC/arcgis/rest/services/Rental_Inspections/FeatureServer/0/query?where=ACTION_DESCRIPTION%3D%27Issue+Renewal+Registration%27+AND+ParcelNo+IS+NOT+NULL&objectIds=&time=&geometry="+encodeURI(JSON.stringify(i))+"&geometryType=esriGeometryPolygon&inSR=&spatialRel=esriSpatialRelIntersects&resultType=none&distance=0.0&units=esriSRUnit_Meter&returnGeodetic=false&outFields=&returnGeometry=true&multipatchOption=xyFootprint&maxAllowableOffset=&geometryPrecision=&outSR=&returnIdsOnly=false&returnCountOnly=true&returnExtentOnly=false&returnDistinctValues=false&orderByFields=&groupByFieldsForStatistics=&outStatistics=&resultOffset=&resultRecordCount=&returnZ=false&returnM=false&quantizationParameters=&sqlFormat=none&f=json&token=",function(a){console.log(t());var s=t(),i=n();console.log(i),console.log(s),s.totalNumbers+=a.count,s.registrationNumbers+=a.count,console.log(s),i+='<article class="renewal"><span>NEED SURVEY</span> '+s.registrationNumbers+"</article>",console.log(i),r([i]),e(s),h()})}),f(currentURLParams);break;case"district"===this.displayType:r("clear"),console.log("creating district panel");var u=turf.simplify(this.featureData,.003,!1);console.log(u),o(u.properties.name);var m=Terraformer.ArcGIS.convert(u.geometry);$.getJSON("https://services2.arcgis.com/qvkbeam7Wirps6zC/arcgis/rest/services/Rental_Inspections/FeatureServer/0/query?where=ACTION_DESCRIPTION%3D%27Issue+Initial+Registration%27+AND+ParcelNo+IS+NOT+NULL&objectIds=&time=&geometry="+encodeURI(JSON.stringify(m))+"&geometryType=esriGeometryPolygon&inSR=&spatialRel=esriSpatialRelIntersects&resultType=none&distance=0.0&units=esriSRUnit_Meter&returnGeodetic=false&outFields=&returnGeometry=true&multipatchOption=xyFootprint&maxAllowableOffset=&geometryPrecision=&outSR=&returnIdsOnly=false&returnCountOnly=true&returnExtentOnly=false&returnDistinctValues=false&orderByFields=&groupByFieldsForStatistics=&outStatistics=&resultOffset=&resultRecordCount=&returnZ=false&returnM=false&quantizationParameters=&sqlFormat=none&f=json&token=",function(a){console.log(t()),d("district");var s=t();console.log(s),s.totalNumbers+=a.count,s.registrationNumbers+=a.count,console.log(s),e(s),console.log(t()),$.getJSON("https://services2.arcgis.com/qvkbeam7Wirps6zC/arcgis/rest/services/Rental_Inspections/FeatureServer/0/query?where=ACTION_DESCRIPTION%3D%27Issue+Renewal+Registration%27+AND+ParcelNo+IS+NOT+NULL&objectIds=&time=&geometry="+encodeURI(JSON.stringify(m))+"&geometryType=esriGeometryPolygon&inSR=&spatialRel=esriSpatialRelIntersects&resultType=none&distance=0.0&units=esriSRUnit_Meter&returnGeodetic=false&outFields=&returnGeometry=true&multipatchOption=xyFootprint&maxAllowableOffset=&geometryPrecision=&outSR=&returnIdsOnly=false&returnCountOnly=true&returnExtentOnly=false&returnDistinctValues=false&orderByFields=&groupByFieldsForStatistics=&outStatistics=&resultOffset=&resultRecordCount=&returnZ=false&returnM=false&quantizationParameters=&sqlFormat=none&f=json&token=",function(a){console.log(t());var s=t(),i=n();console.log(i),console.log(s),s.totalNumbers+=a.count,s.registrationNumbers+=a.count,console.log(s),i+='<article class="renewal"><span>NEED SURVEY</span> '+s.registrationNumbers+"</article>",console.log(i),r([i]),e(s),h()})}),f(currentURLParams);break;default:r("clear"),o("CITY OF DETROIT"),console.log(this.tempData),$.getJSON("https://services2.arcgis.com/qvkbeam7Wirps6zC/arcgis/rest/services/Rental_Inspections/FeatureServer/0/query?where=ACTION_DESCRIPTION%3D%27Issue+Initial+Registration%27+AND+ParcelNo+IS+NOT+NULL&objectIds=&time=&geometry=&geometryType=esriGeometryPolygon&inSR=&spatialRel=esriSpatialRelIntersects&resultType=none&distance=0.0&units=esriSRUnit_Meter&returnGeodetic=false&outFields=&returnGeometry=true&multipatchOption=xyFootprint&maxAllowableOffset=&geometryPrecision=&outSR=&returnIdsOnly=false&returnCountOnly=true&returnExtentOnly=false&returnDistinctValues=false&orderByFields=&groupByFieldsForStatistics=&outStatistics=&resultOffset=&resultRecordCount=&returnZ=false&returnM=false&quantizationParameters=&sqlFormat=none&f=json&token=",function(a){d("city"),console.log(t());var s=t();console.log(s),s.totalNumbers+=a.count,s.registrationNumbers+=a.count,console.log(s),e(s),console.log(t()),$.getJSON("https://services2.arcgis.com/qvkbeam7Wirps6zC/arcgis/rest/services/Rental_Inspections/FeatureServer/0/query?where=ACTION_DESCRIPTION%3D%27Issue+Renewal+Registration%27+AND+ParcelNo+IS+NOT+NULL&objectIds=&time=&geometry=&geometryType=esriGeometryPolygon&inSR=&spatialRel=esriSpatialRelIntersects&resultType=none&distance=0.0&units=esriSRUnit_Meter&returnGeodetic=false&outFields=&returnGeometry=true&multipatchOption=xyFootprint&maxAllowableOffset=&geometryPrecision=&outSR=&returnIdsOnly=false&returnCountOnly=true&returnExtentOnly=false&returnDistinctValues=false&orderByFields=&groupByFieldsForStatistics=&outStatistics=&resultOffset=&resultRecordCount=&returnZ=false&returnM=false&quantizationParameters=&sqlFormat=none&f=json&token=",function(a){console.log(t());var s=t(),i=n();console.log(i),console.log(s),s.totalNumbers+=a.count,s.registrationNumbers+=a.count,console.log(s),i+='<article class="renewal"><span>NEED SURVEY</span> '+s.registrationNumbers+"</article>",console.log(i),r([i]),e(s),h()})})}}};return m}(window),mapPanel=Object.create(panelModule),bounds=[[-83.3437,42.2102],[-82.8754,42.5197]],baseMapStyles=["cj2m68vfx001s2rs0nyherr29","cj2m1f9k400132rmr1jhjq2gn"],parcelData={"rental-status":null,"parcel-data":null},currentURLParams={zoom:0,lng:0,lat:0,parcel:"",district:"",neighborhood:""};mapboxgl.accessToken="pk.eyJ1Ijoic2x1c2Fyc2tpZGRldHJvaXRtaSIsImEiOiJjaXZsNXlwcXQwYnY5MnlsYml4NTJ2Mno4In0.8wKUnlMPIlxq-eWH0d10-Q";var map=new mapboxgl.Map({container:"map",style:"mapbox://styles/slusarskiddetroitmi/"+baseMapStyles[0],center:[-83.15,42.36],zoom:11.5,keyboard:!0});window.onload=function(){if(console.log(getQueryVariable("zoom")),console.log(getQueryVariable("lat")),console.log(getQueryVariable("lng")),console.log(getQueryVariable("parcel")),console.log(getQueryVariable("neighborhood")),console.log(getQueryVariable("district")),getQueryVariable("zoom"))if(getQueryVariable("lat"))switch(!0){case!1!==getQueryVariable("district"):console.log("load district panel"),updateURLParams([getQueryVariable("zoom"),getQueryVariable("lng"),getQueryVariable("lat"),"",getQueryVariable("district")]),console.log(currentURLParams),mapPanel.createFeatureData();break;case!1!==getQueryVariable("neighborhood"):console.log("load neighborhood panel"),updateURLParams([getQueryVariable("zoom"),getQueryVariable("lng"),getQueryVariable("lat"),"","",getQueryVariable("neighborhood")]),mapPanel.createFeatureData();break;case!1!==getQueryVariable("parcel"):updateURLParams([getQueryVariable("zoom"),getQueryVariable("lng"),getQueryVariable("lat"),getQueryVariable("parcel"),"",""]),mapPanel.createFeatureData();break;default:mapPanel.createPanel("city"),map.flyTo({center:[getQueryVariable("lng"),getQueryVariable("lat")],zoom:getQueryVariable("zoom"),bearing:0,speed:2,curve:1,easing:function(e){return e}})}else map.flyTo({center:[-83.15,42.36],zoom:getQueryVariable("zoom"),bearing:0,speed:2,curve:1,easing:function(e){return e}}),updateURLParams([getQueryVariable("zoom"),-83.15,42.36]),getQueryVariable("parcel")?console.log("there is parcel"):console.log("no parcel");else getQueryVariable("lat")?(map.flyTo({center:[getQueryVariable("lng"),getQueryVariable("lat")],zoom:11.5,bearing:0,speed:2,curve:1,easing:function(e){return e}}),updateURLParams([11.5,getQueryVariable("lat"),getQueryVariable("lng")]),getQueryVariable("parcel")?console.log("there is parcel"):(console.log("no parcel"),getQueryVariable("district")?console.log("there is district"):(console.log("no district"),getQueryVariable("neighborhood")?console.log("there is neighborhood"):(console.log("no neighborhood - loading city"),mapPanel.createPanel("city"))))):mapPanel.createPanel("city")};var getQueryVariable=function(e){for(var t=window.location.search.substring(1),r=t.split("&"),n=0;n<r.length;n++){var a=r[n].split("=");if(a[0]==e&&""!==a[1])return a[1]}return!1},updateURLParams=function(e){switch(console.log(e),console.log(e.length),!0){case 1===e.length:currentURLParams.zoom=e[0];break;case 2===e.length:currentURLParams.lng=e[0],currentURLParams.lat=e[1];break;case 3===e.length:currentURLParams.zoom=e[0],currentURLParams.lng=e[1],currentURLParams.lat=e[2];break;case 4===e.length:currentURLParams.lng=e[1],currentURLParams.lat=e[2],currentURLParams.parcel=e[3];break;case 5===e.length:currentURLParams.zoom=e[0],currentURLParams.lng=e[1],currentURLParams.lat=e[2],currentURLParams.district=e[4];break;default:currentURLParams.zoom=e[0],currentURLParams.lng=e[1],currentURLParams.lat=e[2],currentURLParams.parcel=e[3],currentURLParams.district=e[4],currentURLParams.neighborhood=e[5]}console.log(currentURLParams);var t="";for(var r in currentURLParams)if(currentURLParams.hasOwnProperty(r))switch(console.log(r),console.log(currentURLParams[r]),!0){case 0!==r:t+=r+"="+currentURLParams[r]+"&"}if(console.log(t),history.pushState){var n=window.location.protocol+"//"+window.location.host+window.location.pathname+"?"+t;window.history.pushState({path:n},"",n)}},startGeocoderResults=function(e){document.querySelector(".overall-number").innerHTML="",document.querySelector(".parcel-info").innerHTML="",document.querySelector(".info-container > .not-rental").innerHTML="",document.querySelector(".info-container > .rental").innerHTML="",document.querySelector(".info-container > .total-rentals").innerHTML="",document.querySelector(".parcel-data.owner").innerHTML="",document.querySelector(".parcel-data.building").innerHTML="",document.querySelector(".parcel-info.display-section").innerHTML="",map.flyTo({center:[e.result.geometry.coordinates[0],e.result.geometry.coordinates[1]],zoom:16,bearing:0,speed:2,curve:1,easing:function(e){return e}}),updateURLParams([e.result.geometry.coordinates[0],e.result.geometry.coordinates[1]]);for(var t=document.querySelectorAll(".mapboxgl-ctrl-geocoder.mapboxgl-ctrl > input"),r="",n=0;n<t.length;n++)if(""!==t[n].value.split(",")[0]){r=t[n].value.split(",")[0],r=r.split(" ");break}var a="",s=r.length;r.forEach(function(e,t){a+=e,t<s&&t+1!==s&&(a+="+")}),$.getJSON("http://gis.detroitmi.gov/arcgis/rest/services/DoIT/CompositeGeocoder/GeocodeServer/findAddressCandidates?Street=&City=&ZIP=&SingleLine="+a+"&category=&outFields=User_fld&maxLocations=&outSR=&searchExtent=&location=&distance=&magicKey=&f=pjson",function(e){map.setFilter("parcel-fill-hover",["==","parcelno",e.candidates[0].attributes.User_fld]),$.getJSON("https://services2.arcgis.com/qvkbeam7Wirps6zC/ArcGIS/rest/services/Rental_Inspections/FeatureServer/0/query?where="+encodeURI("ParcelNo='"+e.candidates[0].attributes.User_fld+"'")+"&objectIds=&time=&geometry=&geometryType=esriGeometryEnvelope&inSR=&spatialRel=esriSpatialRelIntersects&resultType=none&distance=0.0&units=esriSRUnit_Meter&returnGeodetic=false&outFields=ACTION_DESCRIPTION%2C+ParcelNo%2C+CSM_RECD_DATE&returnGeometry=true&multipatchOption=xyFootprint&maxAllowableOffset=&geometryPrecision=&outSR=&returnIdsOnly=false&returnCountOnly=false&returnExtentOnly=false&returnDistinctValues=false&orderByFields=&groupByFieldsForStatistics=&outStatistics=&resultOffset=&resultRecordCount=&returnZ=false&returnM=false&quantizationParameters=&sqlFormat=none&f=pjson&token=",function(t){console.log(t);var r="";if(t.features.length){switch(r+='<article class="info-items"><span>RENTAL STATUS</span> ',t.features[0].attributes.ACTION_DESCRIPTION){case"Issue Initial Registration ":case"Issue Renewal Registration":r+="<initial><strong>Certificate of Registration</strong></initial></article>";break;default:r+="<cofc><strong>Certificate of Compliance</strong></cofc></article>"}document.querySelector(".parcel-info.rental-info").innerHTML=r,document.querySelector(".info-container > .rental").innerHTML='<a href="https://app.smartsheet.com/b/form?EQBCT=91c0d55e47064373835ce198802764e2" target="_blank"><article class="form-btn">SUBMIT A RENTER\'S COMPLAINT</article></a>',document.querySelector(".info-container > .not-rental").innerHTML="",parcelData["rental-status"]=t.features[0].attributes.ACTION_DESCRIPTION}else document.querySelector(".parcel-info.rental-info").innerHTML='<article class="info-items"><span>RENTAL STATUS</span> Not a Rental</article>',document.querySelector(".info-container > .not-rental").innerHTML='<a href="https://app.smartsheet.com/b/form?EQBCT=7b3746bd20a048a5919ae07bd9ed89de" target="_blank"><article class="form-btn">REGISTER MY RENTAL</article></a>',parcelData["rental-status"]="Not a Rental";$.getJSON("http://apis.detroitmi.gov/assessments/parcel/"+e.candidates[0].attributes.User_fld.replace(/\./g,"_")+"/",function(e){document.querySelector(".info-container > .street-name").innerHTML=e.propstreetcombined,document.querySelector(".parcel-data.owner").innerHTML='<div class="data-view-btn" data-view="owner" onclick="switchParcelDataViews(this)">OWNER INFORMATION <span>&#10095;</span></div>',document.querySelector(".parcel-data.building").innerHTML='<div class="data-view-btn" data-view="building" onclick="switchParcelDataViews(this)">PROPERTY INFORMATION <span>&#10095;</span></div>',parcelData["parcel-data"]=e})});for(var t=document.querySelectorAll('.mapboxgl-ctrl-geocoder input[type="text"]'),r=0;r<t.length;r++)t[r].value=""}),"active"===document.querySelector("#info").className||(document.querySelector("#info").className="active")},toggleBaseMap=function(e){""!==e.target.className?"map-view"===e.target.className?map.setStyle("mapbox://styles/slusarskiddetroitmi/"+baseMapStyles[0]):map.setStyle("mapbox://styles/slusarskiddetroitmi/"+baseMapStyles[1]):"map-view"===e.target.parentElement.className?map.setStyle("mapbox://styles/slusarskiddetroitmi/"+baseMapStyles[0]):map.setStyle("mapbox://styles/slusarskiddetroitmi/"+baseMapStyles[1])},closeInfo=function(){"CITY OF DETROIT"===document.querySelector(".info-container > .street-name").innerHTML?document.querySelector("#info").className="":mapPanel.createPanel("city"),document.querySelector('.mapboxgl-ctrl-geocoder > input[type="text"]').value="",map.flyTo({center:[-83.15,42.36],zoom:11.5,bearing:0,speed:2,curve:1,easing:function(e){return e}}),updateURLParams(["",-83.15,42.36,"","",""])},addDataLayers=function(){map.addSource("parcels",{type:"vector",url:"mapbox://slusarskiddetroitmi.cwobdjn0"}),map.addSource("councils",{type:"geojson",data:"https://gis.detroitmi.gov/arcgis/rest/services/NeighborhoodsApp/council_district/MapServer/1/query?where=1%3D1&text=&objectIds=&time=&geometry=&geometryType=esriGeometryEnvelope&inSR=&spatialRel=esriSpatialRelIntersects&relationParam=&outFields=*&returnGeometry=true&returnTrueCurves=false&maxAllowableOffset=&geometryPrecision=&outSR=4326&returnIdsOnly=false&returnCountOnly=false&orderByFields=&groupByFieldsForStatistics=&outStatistics=&returnZ=false&returnM=false&gdbVersion=&returnDistinctValues=false&resultOffset=&resultRecordCount=&f=geojson"}),map.addSource("councils_labels",{type:"geojson",data:"https://gis.detroitmi.gov/arcgis/rest/services/NeighborhoodsApp/council_district/MapServer/1/query?where=1%3D1&text=&objectIds=&time=&geometry=&geometryType=esriGeometryEnvelope&inSR=&spatialRel=esriSpatialRelIntersects&relationParam=&outFields=*&returnGeometry=true&returnTrueCurves=false&maxAllowableOffset=&geometryPrecision=&outSR=4326&returnIdsOnly=false&returnCountOnly=false&orderByFields=&groupByFieldsForStatistics=&outStatistics=&returnZ=false&returnM=false&gdbVersion=&returnDistinctValues=false&resultOffset=&resultRecordCount=&f=geojson"}),map.addSource("neighborhoods",{type:"geojson",data:"https://gis.detroitmi.gov/arcgis/rest/services/NeighborhoodsApp/Neighborhoods/MapServer/1/query?where=1%3D1&text=&objectIds=&time=&geometry=&geometryType=esriGeometryEnvelope&inSR=2898&spatialRel=esriSpatialRelIntersects&relationParam=&outFields=*&returnGeometry=true&returnTrueCurves=false&maxAllowableOffset=&geometryPrecision=&outSR=4326&returnIdsOnly=false&returnCountOnly=false&orderByFields=&groupByFieldsForStatistics=&outStatistics=&returnZ=false&returnM=false&gdbVersion=&returnDistinctValues=false&resultOffset=&resultRecordCount=&f=geojson"}),map.addSource("neighborhoods-labels",{type:"geojson",data:"http://gis.detroitmi.gov/arcgis/rest/services/NeighborhoodsApp/Neighborhoods/MapServer/0/query?where=1%3D1&text=&objectIds=&time=&geometry=&geometryType=esriGeometryEnvelope&inSR=2898&spatialRel=esriSpatialRelIntersects&relationParam=&outFields=*&returnGeometry=true&returnTrueCurves=false&maxAllowableOffset=&geometryPrecision=&outSR=4326&returnIdsOnly=false&returnCountOnly=false&orderByFields=&groupByFieldsForStatistics=&outStatistics=&returnZ=false&returnM=false&gdbVersion=&returnDistinctValues=false&resultOffset=&resultRecordCount=&f=geojson"}),map.addLayer({id:"councils_labels",type:"symbol",source:"councils_labels",maxzoom:12,layout:{"text-font":["Mark SC Offc Pro Bold"],"text-field":"{name}","symbol-placement":"point","text-size":22},paint:{"text-color":"black"}}),map.addLayer({id:"council-borders",type:"line",source:"councils",maxzoom:12,layout:{},paint:{"line-color":"#004b90","line-width":3}}),map.addLayer({id:"council-fill",type:"fill",source:"councils",maxzoom:12,layout:{},paint:{"fill-color":"#0065c3","fill-opacity":0}}),map.addLayer({id:"council-fill-hover",type:"fill",source:"councils",maxzoom:12,layout:{},paint:{"fill-color":"#0065c3","fill-opacity":.5},filter:["==","name",""]}),map.addLayer({id:"neighborhoods-borders",type:"line",source:"neighborhoods",minzoom:12,maxzoom:15.5,layout:{},paint:{"line-color":"#004b90","line-width":3}}),map.addLayer({id:"neighborhoods-fill",type:"fill",source:"neighborhoods",minzoom:12,maxzoom:15.5,paint:{"fill-color":"#fff","fill-opacity":0}}),map.addLayer({id:"neighborhoods-labels",type:"symbol",source:"neighborhoods-labels",minzoom:12,maxzoom:15.5,layout:{"text-font":["Mark SC Offc Pro Bold"],"text-field":"{name}"},paint:{"text-color":"black"}}),map.addLayer({id:"parcel-fill",type:"fill",source:"parcels",minzoom:15.5,layout:{},paint:{"fill-color":"#fff","fill-opacity":0},"source-layer":"parcelsgeojson"}),map.addLayer({id:"parcel-line",type:"line",source:"parcels",minzoom:15.5,layout:{},paint:{"line-color":"#cbcbcb"},"source-layer":"parcelsgeojson"}),map.addLayer({id:"parcel-fill-hover",type:"line",source:"parcels",minzoom:15.5,layout:{},paint:{"line-color":"#a40040"},"source-layer":"parcelsgeojson",filter:["==","parcelno",""]}),$.getJSON("https://services2.arcgis.com/qvkbeam7Wirps6zC/ArcGIS/rest/services/Rental_Inspections/FeatureServer/0/query?where=ACTION_DESCRIPTION%3D%27Issue+City+C+of+C+-++Ord+18-03%27+AND+ParcelNo+IS+NOT+NULL&objectIds=&time=&geometry=&geometryType=esriGeometryEnvelope&inSR=&spatialRel=esriSpatialRelIntersects&resultType=none&distance=0.0&units=esriSRUnit_Meter&returnGeodetic=false&outFields=parcelno&returnGeometry=true&multipatchOption=xyFootprint&maxAllowableOffset=&geometryPrecision=&outSR=&returnIdsOnly=false&returnCountOnly=false&returnExtentOnly=false&returnDistinctValues=false&orderByFields=&groupByFieldsForStatistics=&outStatistics=&resultOffset=&resultRecordCount=&returnZ=false&returnM=false&quantizationParameters=&sqlFormat=none&f=pjson&token=",function(e){for(var t=["in","parcelno"],r=0;r<e.features.length;r++)t.push(e.features[r].attributes.ParcelNo);map.addLayer({id:"parcel-fill-cofc",type:"fill",source:"parcels","source-layer":"parcelsgeojson",filter:t,paint:{"fill-color":"#068A24","fill-opacity":.5}})}),$.getJSON("https://services2.arcgis.com/qvkbeam7Wirps6zC/ArcGIS/rest/services/Rental_Inspections/FeatureServer/0/query?where=ACTION_DESCRIPTION%3D%27Issue+Initial+Registration%27+AND+ParcelNo+IS+NOT+NULL&objectIds=&time=&geometry=&geometryType=esriGeometryEnvelope&inSR=&spatialRel=esriSpatialRelIntersects&resultType=none&distance=0.0&units=esriSRUnit_Meter&returnGeodetic=false&outFields=parcelno&returnGeometry=true&multipatchOption=xyFootprint&maxAllowableOffset=&geometryPrecision=&outSR=&returnIdsOnly=false&returnCountOnly=false&returnExtentOnly=false&returnDistinctValues=false&orderByFields=&groupByFieldsForStatistics=&outStatistics=&resultOffset=&resultRecordCount=&returnZ=false&returnM=false&quantizationParameters=&sqlFormat=none&f=pjson&token=",function(e){for(var t=["in","parcelno"],r=0;r<e.features.length;r++)t.push(e.features[r].attributes.ParcelNo);map.addLayer({id:"parcel-fill-initial",type:"fill",source:"parcels","source-layer":"parcelsgeojson",filter:t,paint:{"fill-color":"#114BC7","fill-opacity":.5}})}),$.getJSON("https://services2.arcgis.com/qvkbeam7Wirps6zC/ArcGIS/rest/services/Rental_Inspections/FeatureServer/0/query?where=ACTION_DESCRIPTION%3D%27Issue+Renewal+Registration%27+AND+ParcelNo+IS+NOT+NULL&objectIds=&time=&geometry=&geometryType=esriGeometryEnvelope&inSR=&spatialRel=esriSpatialRelIntersects&resultType=none&distance=0.0&units=esriSRUnit_Meter&returnGeodetic=false&outFields=parcelno&returnGeometry=true&multipatchOption=xyFootprint&maxAllowableOffset=&geometryPrecision=&outSR=&returnIdsOnly=false&returnCountOnly=false&returnExtentOnly=false&returnDistinctValues=false&orderByFields=&groupByFieldsForStatistics=&outStatistics=&resultOffset=&resultRecordCount=&returnZ=false&returnM=false&quantizationParameters=&sqlFormat=none&f=pjson&token=",function(e){for(var t=["in","parcelno"],r=0;r<e.features.length;r++)t.push(e.features[r].attributes.ParcelNo);map.addLayer({id:"parcel-fill-renewal",type:"fill",source:"parcels","source-layer":"parcelsgeojson",filter:t,paint:{"fill-color":"#114BC7","fill-opacity":.5}})})};map.on("style.load",function(){addDataLayers(),map.resize()}),map.on("load",function(e){map.on("mousemove",function(e){var t=map.queryRenderedFeatures(e.point,{layers:["council-fill"]});t.length?map.setFilter("council-fill-hover",["==","districts",t[0].properties.districts]):(map.setFilter("council-fill-hover",["==","districts",""]),t=map.queryRenderedFeatures(e.point,{layers:["neighborhoods-fill"]}),t.length||(t=map.queryRenderedFeatures(e.point,{layers:["parcel-fill"]}))),map.getCanvas().style.cursor=t.length?"pointer":""});var t=new MapboxGeocoder({accessToken:mapboxgl.accessToken,bbox:[-83.3437,42.2102,-82.8754,42.5197]});map.addControl(t,"top-left");var r=new MapboxGeocoder({accessToken:mapboxgl.accessToken,bbox:[-83.3437,42.2102,-82.8754,42.5197]});document.getElementById("geocoder").appendChild(r.onAdd(map));for(var n=document.querySelectorAll('.mapboxgl-ctrl-geocoder input[type="text"]'),a=0;a<n.length;a++)n[a].placeholder="Lookup an address";t.on("result",function(e){startGeocoderResults(e)}),r.on("result",function(e){startGeocoderResults(e)})}),map.on("zoom",function(){console.log(map.getZoom()),updateURLParams([map.getZoom()])}),
document.getElementById("close-emergency-modal-btn").addEventListener("click",closeInfo);for(var toggleBaseMapBtns=document.querySelectorAll("#basemap-toggle > article"),i=0;i<toggleBaseMapBtns.length;i++)toggleBaseMapBtns[i].addEventListener("click",function(e){toggleBaseMap(e)});var mapSectionClickModule=function(){map.on("click",function(e){console.log(e);var t=null,r=null,n=null;try{t=map.queryRenderedFeatures(e.point,{layers:["council-fill"]}),r=map.queryRenderedFeatures(e.point,{layers:["neighborhoods-fill"]}),n=map.queryRenderedFeatures(e.point,{layers:["parcel-fill"]})}catch(e){}switch(!0){case 0!==t.length:mapPanel.featureData=t[0],updateURLParams([13,e.lngLat.lng,e.lngLat.lat,"",t[0].properties.name]),mapPanel.createPanel("district");break;case 0!==r.length:mapPanel.featureData=r[0],updateURLParams([16,e.lngLat.lng,e.lngLat.lat,"","",r[0].properties.name]),mapPanel.createPanel("neighborhood");break;case 0!==n.length:mapPanel.featureData=n[0],updateURLParams([16,e.lngLat.lng,e.lngLat.lat,n[0].properties.parcelno,"",""]),mapPanel.createPanel("parcel")}})}(window);!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.moment=t()}(this,function(){function e(){return mn.apply(null,arguments)}function t(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function r(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function n(e){var t;for(t in e)return!1;return!0}function a(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function s(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function i(e,t){var r,n=[];for(r=0;r<e.length;++r)n.push(t(e[r],r));return n}function o(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function l(e,t){for(var r in t)o(t,r)&&(e[r]=t[r]);return o(t,"toString")&&(e.toString=t.toString),o(t,"valueOf")&&(e.valueOf=t.valueOf),e}function u(e,t,r,n){return yt(e,t,r,n,!0).utc()}function c(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null}}function d(e){return null==e._pf&&(e._pf=c()),e._pf}function f(e){if(null==e._isValid){var t=d(e),r=yn.call(t.parsedDateParts,function(e){return null!=e}),n=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&r);if(e._strict&&(n=n&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return n;e._isValid=n}return e._isValid}function h(e){var t=u(NaN);return null!=e?l(d(t),e):d(t).userInvalidated=!0,t}function m(e){return void 0===e}function p(e,t){var r,n,a;if(m(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),m(t._i)||(e._i=t._i),m(t._f)||(e._f=t._f),m(t._l)||(e._l=t._l),m(t._strict)||(e._strict=t._strict),m(t._tzm)||(e._tzm=t._tzm),m(t._isUTC)||(e._isUTC=t._isUTC),m(t._offset)||(e._offset=t._offset),m(t._pf)||(e._pf=d(t)),m(t._locale)||(e._locale=t._locale),gn.length>0)for(r in gn)n=gn[r],a=t[n],m(a)||(e[n]=a);return e}function y(t){p(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===_n&&(_n=!0,e.updateOffset(this),_n=!1)}function g(e){return e instanceof y||null!=e&&null!=e._isAMomentObject}function _(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function S(e){var t=+e,r=0;return 0!==t&&isFinite(t)&&(r=_(t)),r}function v(e,t,r){var n,a=Math.min(e.length,t.length),s=Math.abs(e.length-t.length),i=0;for(n=0;n<a;n++)(r&&e[n]!==t[n]||!r&&S(e[n])!==S(t[n]))&&i++;return i+s}function b(t){!1===e.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function w(t,r){var n=!0;return l(function(){if(null!=e.deprecationHandler&&e.deprecationHandler(null,t),n){for(var a,s=[],i=0;i<arguments.length;i++){if(a="","object"==typeof arguments[i]){a+="\n["+i+"] ";for(var o in arguments[0])a+=o+": "+arguments[0][o]+", ";a=a.slice(0,-2)}else a=arguments[i];s.push(a)}b(t+"\nArguments: "+Array.prototype.slice.call(s).join("")+"\n"+(new Error).stack),n=!1}return r.apply(this,arguments)},r)}function M(t,r){null!=e.deprecationHandler&&e.deprecationHandler(t,r),Sn[t]||(b(r),Sn[t]=!0)}function D(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function R(e){var t,r;for(r in e)t=e[r],D(t)?this[r]=t:this["_"+r]=t;this._config=e,this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function O(e,t){var n,a=l({},e);for(n in t)o(t,n)&&(r(e[n])&&r(t[n])?(a[n]={},l(a[n],e[n]),l(a[n],t[n])):null!=t[n]?a[n]=t[n]:delete a[n]);for(n in e)o(e,n)&&!o(t,n)&&r(e[n])&&(a[n]=l({},a[n]));return a}function T(e){null!=e&&this.set(e)}function k(e,t,r){var n=this._calendar[e]||this._calendar.sameElse;return D(n)?n.call(t,r):n}function P(e){var t=this._longDateFormat[e],r=this._longDateFormat[e.toUpperCase()];return t||!r?t:(this._longDateFormat[e]=r.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])}function L(){return this._invalidDate}function Y(e){return this._ordinal.replace("%d",e)}function x(e,t,r,n){var a=this._relativeTime[r];return D(a)?a(e,t,r,n):a.replace(/%d/i,e)}function I(e,t){var r=this._relativeTime[e>0?"future":"past"];return D(r)?r(t):r.replace(/%s/i,t)}function N(e,t){var r=e.toLowerCase();On[r]=On[r+"s"]=On[t]=e}function F(e){return"string"==typeof e?On[e]||On[e.toLowerCase()]:void 0}function C(e){var t,r,n={};for(r in e)o(e,r)&&(t=F(r))&&(n[t]=e[r]);return n}function U(e,t){Tn[e]=t}function E(e){var t=[];for(var r in e)t.push({unit:r,priority:Tn[r]});return t.sort(function(e,t){return e.priority-t.priority}),t}function A(t,r){return function(n){return null!=n?(H(this,t,n),e.updateOffset(this,r),this):G(this,t)}}function G(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function H(e,t,r){e.isValid()&&e._d["set"+(e._isUTC?"UTC":"")+t](r)}function q(e){return e=F(e),D(this[e])?this[e]():this}function V(e,t){if("object"==typeof e){e=C(e);for(var r=E(e),n=0;n<r.length;n++)this[r[n].unit](e[r[n].unit])}else if(e=F(e),D(this[e]))return this[e](t);return this}function W(e,t,r){var n=""+Math.abs(e),a=t-n.length;return(e>=0?r?"+":"":"-")+Math.pow(10,Math.max(0,a)).toString().substr(1)+n}function j(e,t,r,n){var a=n;"string"==typeof n&&(a=function(){return this[n]()}),e&&(Yn[e]=a),t&&(Yn[t[0]]=function(){return W(a.apply(this,arguments),t[1],t[2])}),r&&(Yn[r]=function(){return this.localeData().ordinal(a.apply(this,arguments),e)})}function z(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function B(e){var t,r,n=e.match(kn);for(t=0,r=n.length;t<r;t++)Yn[n[t]]?n[t]=Yn[n[t]]:n[t]=z(n[t]);return function(t){var a,s="";for(a=0;a<r;a++)s+=n[a]instanceof Function?n[a].call(t,e):n[a];return s}}function Z(e,t){return e.isValid()?(t=Q(t,e.localeData()),Ln[t]=Ln[t]||B(t),Ln[t](e)):e.localeData().invalidDate()}function Q(e,t){function r(e){return t.longDateFormat(e)||e}var n=5;for(Pn.lastIndex=0;n>=0&&Pn.test(e);)e=e.replace(Pn,r),Pn.lastIndex=0,n-=1;return e}function J(e,t,r){jn[e]=D(t)?t:function(e,n){return e&&r?r:t}}function $(e,t){return o(jn,e)?jn[e](t._strict,t._locale):new RegExp(X(e))}function X(e){return K(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,r,n,a){return t||r||n||a}))}function K(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function ee(e,t){var r,n=t;for("string"==typeof e&&(e=[e]),a(t)&&(n=function(e,r){r[t]=S(e)}),r=0;r<e.length;r++)zn[e[r]]=n}function te(e,t){ee(e,function(e,r,n,a){n._w=n._w||{},t(e,n._w,n,a)})}function re(e,t,r){null!=t&&o(zn,e)&&zn[e](t,r._a,r,e)}function ne(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function ae(e,r){return e?t(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||na).test(r)?"format":"standalone"][e.month()]:this._months}function se(e,r){return e?t(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[na.test(r)?"format":"standalone"][e.month()]:this._monthsShort}function ie(e,t,r){var n,a,s,i=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)s=u([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(s,"").toLocaleLowerCase();return r?"MMM"===t?(a=ra.call(this._shortMonthsParse,i),-1!==a?a:null):(a=ra.call(this._longMonthsParse,i),-1!==a?a:null):"MMM"===t?(a=ra.call(this._shortMonthsParse,i),-1!==a?a:(a=ra.call(this._longMonthsParse,i),-1!==a?a:null)):(a=ra.call(this._longMonthsParse,i),-1!==a?a:(a=ra.call(this._shortMonthsParse,i),-1!==a?a:null))}function oe(e,t,r){var n,a,s;if(this._monthsParseExact)return ie.call(this,e,t,r);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(a=u([2e3,n]),r&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(a,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(a,"").replace(".","")+"$","i")),r||this._monthsParse[n]||(s="^"+this.months(a,"")+"|^"+this.monthsShort(a,""),this._monthsParse[n]=new RegExp(s.replace(".",""),"i")),r&&"MMMM"===t&&this._longMonthsParse[n].test(e))return n;if(r&&"MMM"===t&&this._shortMonthsParse[n].test(e))return n;if(!r&&this._monthsParse[n].test(e))return n}}function le(e,t){var r;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=S(t);else if(t=e.localeData().monthsParse(t),!a(t))return e;return r=Math.min(e.date(),ne(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,r),e}function ue(t){return null!=t?(le(this,t),e.updateOffset(this,!0),this):G(this,"Month")}function ce(){return ne(this.year(),this.month())}function de(e){return this._monthsParseExact?(o(this,"_monthsRegex")||he.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(o(this,"_monthsShortRegex")||(this._monthsShortRegex=ia),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function fe(e){return this._monthsParseExact?(o(this,"_monthsRegex")||he.call(this),e?this._monthsStrictRegex:this._monthsRegex):(o(this,"_monthsRegex")||(this._monthsRegex=oa),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function he(){function e(e,t){return t.length-e.length}var t,r,n=[],a=[],s=[];for(t=0;t<12;t++)r=u([2e3,t]),n.push(this.monthsShort(r,"")),a.push(this.months(r,"")),s.push(this.months(r,"")),s.push(this.monthsShort(r,""));for(n.sort(e),a.sort(e),s.sort(e),t=0;t<12;t++)n[t]=K(n[t]),a[t]=K(a[t]);for(t=0;t<24;t++)s[t]=K(s[t]);this._monthsRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+n.join("|")+")","i")}function me(e){return pe(e)?366:365}function pe(e){return e%4==0&&e%100!=0||e%400==0}function ye(){return pe(this.year())}function ge(e,t,r,n,a,s,i){var o=new Date(e,t,r,n,a,s,i);return e<100&&e>=0&&isFinite(o.getFullYear())&&o.setFullYear(e),o}function _e(e){var t=new Date(Date.UTC.apply(null,arguments));return e<100&&e>=0&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function Se(e,t,r){var n=7+t-r;return-(7+_e(e,0,n).getUTCDay()-t)%7+n-1}function ve(e,t,r,n,a){var s,i,o=(7+r-n)%7,l=Se(e,n,a),u=1+7*(t-1)+o+l;return u<=0?(s=e-1,i=me(s)+u):u>me(e)?(s=e+1,i=u-me(e)):(s=e,i=u),{year:s,dayOfYear:i}}function be(e,t,r){var n,a,s=Se(e.year(),t,r),i=Math.floor((e.dayOfYear()-s-1)/7)+1;return i<1?(a=e.year()-1,n=i+we(a,t,r)):i>we(e.year(),t,r)?(n=i-we(e.year(),t,r),a=e.year()+1):(a=e.year(),n=i),{week:n,year:a}}function we(e,t,r){var n=Se(e,t,r),a=Se(e+1,t,r);return(me(e)-n+a)/7}function Me(e){return be(e,this._week.dow,this._week.doy).week}function De(){return this._week.dow}function Re(){return this._week.doy}function Oe(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function Te(e){var t=be(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function ke(e,t){return"string"!=typeof e?e:isNaN(e)?(e=t.weekdaysParse(e),"number"==typeof e?e:null):parseInt(e,10)}function Pe(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Le(e,r){return e?t(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(r)?"format":"standalone"][e.day()]:this._weekdays}function Ye(e){return e?this._weekdaysShort[e.day()]:this._weekdaysShort}function xe(e){return e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Ie(e,t,r){var n,a,s,i=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)s=u([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(s,"").toLocaleLowerCase();return r?"dddd"===t?(a=ra.call(this._weekdaysParse,i),-1!==a?a:null):"ddd"===t?(a=ra.call(this._shortWeekdaysParse,i),-1!==a?a:null):(a=ra.call(this._minWeekdaysParse,i),-1!==a?a:null):"dddd"===t?(a=ra.call(this._weekdaysParse,i),-1!==a?a:(a=ra.call(this._shortWeekdaysParse,i),-1!==a?a:(a=ra.call(this._minWeekdaysParse,i),-1!==a?a:null))):"ddd"===t?(a=ra.call(this._shortWeekdaysParse,i),-1!==a?a:(a=ra.call(this._weekdaysParse,i),-1!==a?a:(a=ra.call(this._minWeekdaysParse,i),-1!==a?a:null))):(a=ra.call(this._minWeekdaysParse,i),-1!==a?a:(a=ra.call(this._weekdaysParse,i),-1!==a?a:(a=ra.call(this._shortWeekdaysParse,i),-1!==a?a:null)))}function Ne(e,t,r){var n,a,s;if(this._weekdaysParseExact)return Ie.call(this,e,t,r);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(a=u([2e3,1]).day(n),r&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(a,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(a,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(a,"").replace(".",".?")+"$","i")),this._weekdaysParse[n]||(s="^"+this.weekdays(a,"")+"|^"+this.weekdaysShort(a,"")+"|^"+this.weekdaysMin(a,""),this._weekdaysParse[n]=new RegExp(s.replace(".",""),"i")),r&&"dddd"===t&&this._fullWeekdaysParse[n].test(e))return n;if(r&&"ddd"===t&&this._shortWeekdaysParse[n].test(e))return n;if(r&&"dd"===t&&this._minWeekdaysParse[n].test(e))return n;if(!r&&this._weekdaysParse[n].test(e))return n}}function Fe(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=ke(e,this.localeData()),this.add(e-t,"d")):t}function Ce(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Ue(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=Pe(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function Ee(e){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||He.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(o(this,"_weekdaysRegex")||(this._weekdaysRegex=ha),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Ae(e){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||He.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(o(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=ma),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Ge(e){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||He.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(o(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=pa),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function He(){function e(e,t){return t.length-e.length}var t,r,n,a,s,i=[],o=[],l=[],c=[];for(t=0;t<7;t++)r=u([2e3,1]).day(t),n=this.weekdaysMin(r,""),a=this.weekdaysShort(r,""),s=this.weekdays(r,""),i.push(n),o.push(a),l.push(s),c.push(n),c.push(a),c.push(s);for(i.sort(e),o.sort(e),l.sort(e),c.sort(e),t=0;t<7;t++)o[t]=K(o[t]),l[t]=K(l[t]),c[t]=K(c[t]);this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+i.join("|")+")","i")}function qe(){return this.hours()%12||12}function Ve(){return this.hours()||24}function We(e,t){j(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function je(e,t){return t._meridiemParse}function ze(e){return"p"===(e+"").toLowerCase().charAt(0)}function Be(e,t,r){return e>11?r?"pm":"PM":r?"am":"AM"}function Ze(e){return e?e.toLowerCase().replace("_","-"):e}function Qe(e){for(var t,r,n,a,s=0;s<e.length;){for(a=Ze(e[s]).split("-"),t=a.length,r=Ze(e[s+1]),r=r?r.split("-"):null;t>0;){if(n=Je(a.slice(0,t).join("-")))return n;if(r&&r.length>=t&&v(a,r,!0)>=t-1)break;t--}s++}return null}function Je(e){var t=null;if(!Sa[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=ya._abbr,require("./locale/"+e),$e(t)}catch(e){}return Sa[e]}function $e(e,t){var r;return e&&(r=m(t)?et(e):Xe(e,t))&&(ya=r),ya._abbr}function Xe(e,t){if(null!==t){var r=_a;if(t.abbr=e,null!=Sa[e])M("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=Sa[e]._config;else if(null!=t.parentLocale){if(null==Sa[t.parentLocale])return va[t.parentLocale]||(va[t.parentLocale]=[]),va[t.parentLocale].push({name:e,config:t}),null;r=Sa[t.parentLocale]._config}return Sa[e]=new T(O(r,t)),va[e]&&va[e].forEach(function(e){Xe(e.name,e.config)}),$e(e),Sa[e]}return delete Sa[e],null}function Ke(e,t){if(null!=t){var r,n=_a;null!=Sa[e]&&(n=Sa[e]._config),t=O(n,t),r=new T(t),r.parentLocale=Sa[e],Sa[e]=r,$e(e)}else null!=Sa[e]&&(null!=Sa[e].parentLocale?Sa[e]=Sa[e].parentLocale:null!=Sa[e]&&delete Sa[e]);return Sa[e]}function et(e){var r;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return ya;if(!t(e)){if(r=Je(e))return r;e=[e]}return Qe(e)}function tt(){return wn(Sa)}function rt(e){var t,r=e._a;return r&&-2===d(e).overflow&&(t=r[Zn]<0||r[Zn]>11?Zn:r[Qn]<1||r[Qn]>ne(r[Bn],r[Zn])?Qn:r[Jn]<0||r[Jn]>24||24===r[Jn]&&(0!==r[$n]||0!==r[Xn]||0!==r[Kn])?Jn:r[$n]<0||r[$n]>59?$n:r[Xn]<0||r[Xn]>59?Xn:r[Kn]<0||r[Kn]>999?Kn:-1,d(e)._overflowDayOfYear&&(t<Bn||t>Qn)&&(t=Qn),d(e)._overflowWeeks&&-1===t&&(t=ea),d(e)._overflowWeekday&&-1===t&&(t=ta),d(e).overflow=t),e}function nt(e){var t,r,n,a,s,i,o=e._i,l=ba.exec(o)||wa.exec(o);if(l){for(d(e).iso=!0,t=0,r=Da.length;t<r;t++)if(Da[t][1].exec(l[1])){a=Da[t][0],n=!1!==Da[t][2];break}if(null==a)return void(e._isValid=!1);if(l[3]){for(t=0,r=Ra.length;t<r;t++)if(Ra[t][1].exec(l[3])){s=(l[2]||" ")+Ra[t][0];break}if(null==s)return void(e._isValid=!1)}if(!n&&null!=s)return void(e._isValid=!1);if(l[4]){if(!Ma.exec(l[4]))return void(e._isValid=!1);i="Z"}e._f=a+(s||"")+(i||""),ut(e)}else e._isValid=!1}function at(t){var r=Oa.exec(t._i);return null!==r?void(t._d=new Date(+r[1])):(nt(t),void(!1===t._isValid&&(delete t._isValid,e.createFromInputFallback(t))))}function st(e,t,r){return null!=e?e:null!=t?t:r}function it(t){var r=new Date(e.now());return t._useUTC?[r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate()]:[r.getFullYear(),r.getMonth(),r.getDate()]}function ot(e){var t,r,n,a,s=[];if(!e._d){for(n=it(e),e._w&&null==e._a[Qn]&&null==e._a[Zn]&&lt(e),e._dayOfYear&&(a=st(e._a[Bn],n[Bn]),e._dayOfYear>me(a)&&(d(e)._overflowDayOfYear=!0),r=_e(a,0,e._dayOfYear),e._a[Zn]=r.getUTCMonth(),e._a[Qn]=r.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=s[t]=n[t];for(;t<7;t++)e._a[t]=s[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[Jn]&&0===e._a[$n]&&0===e._a[Xn]&&0===e._a[Kn]&&(e._nextDay=!0,e._a[Jn]=0),e._d=(e._useUTC?_e:ge).apply(null,s),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Jn]=24)}}function lt(e){var t,r,n,a,s,i,o,l;if(t=e._w,null!=t.GG||null!=t.W||null!=t.E)s=1,i=4,r=st(t.GG,e._a[Bn],be(gt(),1,4).year),n=st(t.W,1),((a=st(t.E,1))<1||a>7)&&(l=!0);else{s=e._locale._week.dow,i=e._locale._week.doy;var u=be(gt(),s,i);r=st(t.gg,e._a[Bn],u.year),n=st(t.w,u.week),null!=t.d?((a=t.d)<0||a>6)&&(l=!0):null!=t.e?(a=t.e+s,(t.e<0||t.e>6)&&(l=!0)):a=s}n<1||n>we(r,s,i)?d(e)._overflowWeeks=!0:null!=l?d(e)._overflowWeekday=!0:(o=ve(r,n,a,s,i),e._a[Bn]=o.year,e._dayOfYear=o.dayOfYear)}function ut(t){if(t._f===e.ISO_8601)return void nt(t);t._a=[],d(t).empty=!0;var r,n,a,s,i,o=""+t._i,l=o.length,u=0;for(a=Q(t._f,t._locale).match(kn)||[],r=0;r<a.length;r++)s=a[r],n=(o.match($(s,t))||[])[0],n&&(i=o.substr(0,o.indexOf(n)),i.length>0&&d(t).unusedInput.push(i),o=o.slice(o.indexOf(n)+n.length),u+=n.length),Yn[s]?(n?d(t).empty=!1:d(t).unusedTokens.push(s),re(s,n,t)):t._strict&&!n&&d(t).unusedTokens.push(s);d(t).charsLeftOver=l-u,o.length>0&&d(t).unusedInput.push(o),t._a[Jn]<=12&&!0===d(t).bigHour&&t._a[Jn]>0&&(d(t).bigHour=void 0),d(t).parsedDateParts=t._a.slice(0),d(t).meridiem=t._meridiem,t._a[Jn]=ct(t._locale,t._a[Jn],t._meridiem),ot(t),rt(t)}function ct(e,t,r){var n;return null==r?t:null!=e.meridiemHour?e.meridiemHour(t,r):null!=e.isPM?(n=e.isPM(r),n&&t<12&&(t+=12),n||12!==t||(t=0),t):t}function dt(e){var t,r,n,a,s;if(0===e._f.length)return d(e).invalidFormat=!0,void(e._d=new Date(NaN));for(a=0;a<e._f.length;a++)s=0,t=p({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[a],ut(t),f(t)&&(s+=d(t).charsLeftOver,s+=10*d(t).unusedTokens.length,d(t).score=s,(null==n||s<n)&&(n=s,r=t));l(e,r||t)}function ft(e){if(!e._d){var t=C(e._i);e._a=i([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),ot(e)}}function ht(e){var t=new y(rt(mt(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function mt(e){var r=e._i,n=e._f;return e._locale=e._locale||et(e._l),null===r||void 0===n&&""===r?h({nullInput:!0}):("string"==typeof r&&(e._i=r=e._locale.preparse(r)),g(r)?new y(rt(r)):(s(r)?e._d=r:t(n)?dt(e):n?ut(e):pt(e),f(e)||(e._d=null),e))}function pt(r){var n=r._i;void 0===n?r._d=new Date(e.now()):s(n)?r._d=new Date(n.valueOf()):"string"==typeof n?at(r):t(n)?(r._a=i(n.slice(0),function(e){return parseInt(e,10)}),ot(r)):"object"==typeof n?ft(r):a(n)?r._d=new Date(n):e.createFromInputFallback(r)}function yt(e,a,s,i,o){var l={};return!0!==s&&!1!==s||(i=s,s=void 0),(r(e)&&n(e)||t(e)&&0===e.length)&&(e=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=o,l._l=s,l._i=e,l._f=a,l._strict=i,ht(l)}function gt(e,t,r,n){return yt(e,t,r,n,!1)}function _t(e,r){var n,a;if(1===r.length&&t(r[0])&&(r=r[0]),!r.length)return gt();for(n=r[0],a=1;a<r.length;++a)r[a].isValid()&&!r[a][e](n)||(n=r[a]);return n}function St(){return _t("isBefore",[].slice.call(arguments,0))}function vt(){return _t("isAfter",[].slice.call(arguments,0))}function bt(e){var t=C(e),r=t.year||0,n=t.quarter||0,a=t.month||0,s=t.week||0,i=t.day||0,o=t.hour||0,l=t.minute||0,u=t.second||0,c=t.millisecond||0;this._milliseconds=+c+1e3*u+6e4*l+1e3*o*60*60,this._days=+i+7*s,this._months=+a+3*n+12*r,this._data={},this._locale=et(),this._bubble()}function wt(e){return e instanceof bt}function Mt(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function Dt(e,t){j(e,0,0,function(){var e=this.utcOffset(),r="+";return e<0&&(e=-e,r="-"),r+W(~~(e/60),2)+t+W(~~e%60,2)})}function Rt(e,t){var r=(t||"").match(e);if(null===r)return null;var n=r[r.length-1]||[],a=(n+"").match(La)||["-",0,0],s=60*a[1]+S(a[2]);return 0===s?0:"+"===a[0]?s:-s}function Ot(t,r){var n,a;return r._isUTC?(n=r.clone(),a=(g(t)||s(t)?t.valueOf():gt(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+a),e.updateOffset(n,!1),n):gt(t).local()}function Tt(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function kt(t,r){var n,a=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"==typeof t){if(null===(t=Rt(Vn,t)))return this}else Math.abs(t)<16&&(t*=60);return!this._isUTC&&r&&(n=Tt(this)),this._offset=t,this._isUTC=!0,null!=n&&this.add(n,"m"),a!==t&&(!r||this._changeInProgress?Wt(this,At(t-a,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?a:Tt(this)}function Pt(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function Lt(e){return this.utcOffset(0,e)}function Yt(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Tt(this),"m")),this}function xt(){if(null!=this._tzm)this.utcOffset(this._tzm);else if("string"==typeof this._i){var e=Rt(qn,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function It(e){return!!this.isValid()&&(e=e?gt(e).utcOffset():0,(this.utcOffset()-e)%60==0)}function Nt(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Ft(){if(!m(this._isDSTShifted))return this._isDSTShifted;var e={};if(p(e,this),e=mt(e),e._a){var t=e._isUTC?u(e._a):gt(e._a);this._isDSTShifted=this.isValid()&&v(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Ct(){return!!this.isValid()&&!this._isUTC}function Ut(){return!!this.isValid()&&this._isUTC}function Et(){return!!this.isValid()&&this._isUTC&&0===this._offset}function At(e,t){var r,n,s,i=e,l=null;return wt(e)?i={ms:e._milliseconds,d:e._days,M:e._months}:a(e)?(i={},t?i[t]=e:i.milliseconds=e):(l=Ya.exec(e))?(r="-"===l[1]?-1:1,i={y:0,d:S(l[Qn])*r,h:S(l[Jn])*r,m:S(l[$n])*r,s:S(l[Xn])*r,ms:S(Mt(1e3*l[Kn]))*r}):(l=xa.exec(e))?(r="-"===l[1]?-1:1,i={y:Gt(l[2],r),M:Gt(l[3],r),w:Gt(l[4],r),d:Gt(l[5],r),h:Gt(l[6],r),m:Gt(l[7],r),s:Gt(l[8],r)}):null==i?i={}:"object"==typeof i&&("from"in i||"to"in i)&&(s=qt(gt(i.from),gt(i.to)),i={},i.ms=s.milliseconds,i.M=s.months),n=new bt(i),wt(e)&&o(e,"_locale")&&(n._locale=e._locale),n}function Gt(e,t){var r=e&&parseFloat(e.replace(",","."));return(isNaN(r)?0:r)*t}function Ht(e,t){var r={milliseconds:0,months:0};return r.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(r.months,"M").isAfter(t)&&--r.months,r.milliseconds=+t-+e.clone().add(r.months,"M"),r}function qt(e,t){var r;return e.isValid()&&t.isValid()?(t=Ot(t,e),e.isBefore(t)?r=Ht(e,t):(r=Ht(t,e),r.milliseconds=-r.milliseconds,r.months=-r.months),r):{milliseconds:0,months:0}}function Vt(e,t){return function(r,n){var a,s;return null===n||isNaN(+n)||(M(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),s=r,r=n,n=s),r="string"==typeof r?+r:r,a=At(r,n),Wt(this,a,e),this}}function Wt(t,r,n,a){var s=r._milliseconds,i=Mt(r._days),o=Mt(r._months);t.isValid()&&(a=null==a||a,s&&t._d.setTime(t._d.valueOf()+s*n),i&&H(t,"Date",G(t,"Date")+i*n),o&&le(t,G(t,"Month")+o*n),a&&e.updateOffset(t,i||o))}function jt(e,t){var r=e.diff(t,"days",!0);return r<-6?"sameElse":r<-1?"lastWeek":r<0?"lastDay":r<1?"sameDay":r<2?"nextDay":r<7?"nextWeek":"sameElse"}function zt(t,r){var n=t||gt(),a=Ot(n,this).startOf("day"),s=e.calendarFormat(this,a)||"sameElse",i=r&&(D(r[s])?r[s].call(this,n):r[s]);return this.format(i||this.localeData().calendar(s,this,gt(n)))}function Bt(){return new y(this)}function Zt(e,t){var r=g(e)?e:gt(e);return!(!this.isValid()||!r.isValid())&&(t=F(m(t)?"millisecond":t),"millisecond"===t?this.valueOf()>r.valueOf():r.valueOf()<this.clone().startOf(t).valueOf())}function Qt(e,t){var r=g(e)?e:gt(e);return!(!this.isValid()||!r.isValid())&&(t=F(m(t)?"millisecond":t),"millisecond"===t?this.valueOf()<r.valueOf():this.clone().endOf(t).valueOf()<r.valueOf())}function Jt(e,t,r,n){return n=n||"()",("("===n[0]?this.isAfter(e,r):!this.isBefore(e,r))&&(")"===n[1]?this.isBefore(t,r):!this.isAfter(t,r))}function $t(e,t){var r,n=g(e)?e:gt(e);return!(!this.isValid()||!n.isValid())&&(t=F(t||"millisecond"),"millisecond"===t?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(t).valueOf()<=r&&r<=this.clone().endOf(t).valueOf()))}function Xt(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function Kt(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function er(e,t,r){var n,a,s,i;return this.isValid()?(n=Ot(e,this),n.isValid()?(a=6e4*(n.utcOffset()-this.utcOffset()),t=F(t),"year"===t||"month"===t||"quarter"===t?(i=tr(this,n),"quarter"===t?i/=3:"year"===t&&(i/=12)):(s=this-n,i="second"===t?s/1e3:"minute"===t?s/6e4:"hour"===t?s/36e5:"day"===t?(s-a)/864e5:"week"===t?(s-a)/6048e5:s),r?i:_(i)):NaN):NaN}function tr(e,t){var r,n,a=12*(t.year()-e.year())+(t.month()-e.month()),s=e.clone().add(a,"months");return t-s<0?(r=e.clone().add(a-1,"months"),n=(t-s)/(s-r)):(r=e.clone().add(a+1,"months"),n=(t-s)/(r-s)),-(a+n)||0}function rr(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function nr(){var e=this.clone().utc();return 0<e.year()&&e.year()<=9999?D(Date.prototype.toISOString)?this.toDate().toISOString():Z(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):Z(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function ar(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var r="["+e+'("]',n=0<this.year()&&this.year()<=9999?"YYYY":"YYYYYY",a=t+'[")]';return this.format(r+n+"-MM-DD[T]HH:mm:ss.SSS"+a)}function sr(t){t||(t=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var r=Z(this,t);return this.localeData().postformat(r)}function ir(e,t){return this.isValid()&&(g(e)&&e.isValid()||gt(e).isValid())?At({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function or(e){return this.from(gt(),e)}function lr(e,t){return this.isValid()&&(g(e)&&e.isValid()||gt(e).isValid())?At({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ur(e){return this.to(gt(),e)}function cr(e){var t;return void 0===e?this._locale._abbr:(t=et(e),null!=t&&(this._locale=t),this)}function dr(){return this._locale}function fr(e){switch(e=F(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this}function hr(e){return e=F(e),void 0===e||"millisecond"===e?this:("date"===e&&(e="day"),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms"))}function mr(){return this._d.valueOf()-6e4*(this._offset||0)}function pr(){return Math.floor(this.valueOf()/1e3)}function yr(){return new Date(this.valueOf())}function gr(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function _r(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function Sr(){return this.isValid()?this.toISOString():null}function vr(){return f(this)}function br(){return l({},d(this))}function wr(){return d(this).overflow}function Mr(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Dr(e,t){j(0,[e,e.length],0,t)}function Rr(e){return Pr.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Or(e){return Pr.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Tr(){return we(this.year(),1,4)}function kr(){var e=this.localeData()._week
;return we(this.year(),e.dow,e.doy)}function Pr(e,t,r,n,a){var s;return null==e?be(this,n,a).year:(s=we(e,n,a),t>s&&(t=s),Lr.call(this,e,t,r,n,a))}function Lr(e,t,r,n,a){var s=ve(e,t,r,n,a),i=_e(s.year,0,s.dayOfYear);return this.year(i.getUTCFullYear()),this.month(i.getUTCMonth()),this.date(i.getUTCDate()),this}function Yr(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function xr(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function Ir(e,t){t[Kn]=S(1e3*("0."+e))}function Nr(){return this._isUTC?"UTC":""}function Fr(){return this._isUTC?"Coordinated Universal Time":""}function Cr(e){return gt(1e3*e)}function Ur(){return gt.apply(null,arguments).parseZone()}function Er(e){return e}function Ar(e,t,r,n){var a=et(),s=u().set(n,t);return a[r](s,e)}function Gr(e,t,r){if(a(e)&&(t=e,e=void 0),e=e||"",null!=t)return Ar(e,t,r,"month");var n,s=[];for(n=0;n<12;n++)s[n]=Ar(e,n,r,"month");return s}function Hr(e,t,r,n){"boolean"==typeof e?(a(t)&&(r=t,t=void 0),t=t||""):(t=e,r=t,e=!1,a(t)&&(r=t,t=void 0),t=t||"");var s=et(),i=e?s._week.dow:0;if(null!=r)return Ar(t,(r+i)%7,n,"day");var o,l=[];for(o=0;o<7;o++)l[o]=Ar(t,(o+i)%7,n,"day");return l}function qr(e,t){return Gr(e,t,"months")}function Vr(e,t){return Gr(e,t,"monthsShort")}function Wr(e,t,r){return Hr(e,t,r,"weekdays")}function jr(e,t,r){return Hr(e,t,r,"weekdaysShort")}function zr(e,t,r){return Hr(e,t,r,"weekdaysMin")}function Br(){var e=this._data;return this._milliseconds=Va(this._milliseconds),this._days=Va(this._days),this._months=Va(this._months),e.milliseconds=Va(e.milliseconds),e.seconds=Va(e.seconds),e.minutes=Va(e.minutes),e.hours=Va(e.hours),e.months=Va(e.months),e.years=Va(e.years),this}function Zr(e,t,r,n){var a=At(t,r);return e._milliseconds+=n*a._milliseconds,e._days+=n*a._days,e._months+=n*a._months,e._bubble()}function Qr(e,t){return Zr(this,e,t,1)}function Jr(e,t){return Zr(this,e,t,-1)}function $r(e){return e<0?Math.floor(e):Math.ceil(e)}function Xr(){var e,t,r,n,a,s=this._milliseconds,i=this._days,o=this._months,l=this._data;return s>=0&&i>=0&&o>=0||s<=0&&i<=0&&o<=0||(s+=864e5*$r(en(o)+i),i=0,o=0),l.milliseconds=s%1e3,e=_(s/1e3),l.seconds=e%60,t=_(e/60),l.minutes=t%60,r=_(t/60),l.hours=r%24,i+=_(r/24),a=_(Kr(i)),o+=a,i-=$r(en(a)),n=_(o/12),o%=12,l.days=i,l.months=o,l.years=n,this}function Kr(e){return 4800*e/146097}function en(e){return 146097*e/4800}function tn(e){var t,r,n=this._milliseconds;if("month"===(e=F(e))||"year"===e)return t=this._days+n/864e5,r=this._months+Kr(t),"month"===e?r:r/12;switch(t=this._days+Math.round(en(this._months)),e){case"week":return t/7+n/6048e5;case"day":return t+n/864e5;case"hour":return 24*t+n/36e5;case"minute":return 1440*t+n/6e4;case"second":return 86400*t+n/1e3;case"millisecond":return Math.floor(864e5*t)+n;default:throw new Error("Unknown unit "+e)}}function rn(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*S(this._months/12)}function nn(e){return function(){return this.as(e)}}function an(e){return e=F(e),this[e+"s"]()}function sn(e){return function(){return this._data[e]}}function on(){return _(this.days()/7)}function ln(e,t,r,n,a){return a.relativeTime(t||1,!!r,e,n)}function un(e,t,r){var n=At(e).abs(),a=ss(n.as("s")),s=ss(n.as("m")),i=ss(n.as("h")),o=ss(n.as("d")),l=ss(n.as("M")),u=ss(n.as("y")),c=a<is.s&&["s",a]||s<=1&&["m"]||s<is.m&&["mm",s]||i<=1&&["h"]||i<is.h&&["hh",i]||o<=1&&["d"]||o<is.d&&["dd",o]||l<=1&&["M"]||l<is.M&&["MM",l]||u<=1&&["y"]||["yy",u];return c[2]=t,c[3]=+e>0,c[4]=r,ln.apply(null,c)}function cn(e){return void 0===e?ss:"function"==typeof e&&(ss=e,!0)}function dn(e,t){return void 0!==is[e]&&(void 0===t?is[e]:(is[e]=t,!0))}function fn(e){var t=this.localeData(),r=un(this,!e,t);return e&&(r=t.pastFuture(+this,r)),t.postformat(r)}function hn(){var e,t,r,n=os(this._milliseconds)/1e3,a=os(this._days),s=os(this._months);e=_(n/60),t=_(e/60),n%=60,e%=60,r=_(s/12),s%=12;var i=r,o=s,l=a,u=t,c=e,d=n,f=this.asSeconds();return f?(f<0?"-":"")+"P"+(i?i+"Y":"")+(o?o+"M":"")+(l?l+"D":"")+(u||c||d?"T":"")+(u?u+"H":"")+(c?c+"M":"")+(d?d+"S":""):"P0D"}var mn,pn;pn=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),r=t.length>>>0,n=0;n<r;n++)if(n in t&&e.call(this,t[n],n,t))return!0;return!1};var yn=pn,gn=e.momentProperties=[],_n=!1,Sn={};e.suppressDeprecationWarnings=!1,e.deprecationHandler=null;var vn;vn=Object.keys?Object.keys:function(e){var t,r=[];for(t in e)o(e,t)&&r.push(t);return r};var bn,wn=vn,Mn={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Dn={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Rn={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},On={},Tn={},kn=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Pn=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Ln={},Yn={},xn=/\d\d/,In=/\d{4}/,Nn=/[+-]?\d{6}/,Fn=/\d\d?/,Cn=/\d\d\d\d?/,Un=/\d\d\d\d\d\d?/,En=/\d{1,3}/,An=/\d{1,4}/,Gn=/[+-]?\d{1,6}/,Hn=/[+-]?\d+/,qn=/Z|[+-]\d\d:?\d\d/gi,Vn=/Z|[+-]\d\d(?::?\d\d)?/gi,Wn=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,jn={},zn={},Bn=0,Zn=1,Qn=2,Jn=3,$n=4,Xn=5,Kn=6,ea=7,ta=8;bn=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};var ra=bn;j("M",["MM",2],"Mo",function(){return this.month()+1}),j("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),j("MMMM",0,0,function(e){return this.localeData().months(this,e)}),N("month","M"),U("month",8),J("M",Fn),J("MM",Fn,xn),J("MMM",function(e,t){return t.monthsShortRegex(e)}),J("MMMM",function(e,t){return t.monthsRegex(e)}),ee(["M","MM"],function(e,t){t[Zn]=S(e)-1}),ee(["MMM","MMMM"],function(e,t,r,n){var a=r._locale.monthsParse(e,n,r._strict);null!=a?t[Zn]=a:d(r).invalidMonth=e});var na=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,aa="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),sa="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),ia=Wn,oa=Wn;j("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e}),j(0,["YY",2],0,function(){return this.year()%100}),j(0,["YYYY",4],0,"year"),j(0,["YYYYY",5],0,"year"),j(0,["YYYYYY",6,!0],0,"year"),N("year","y"),U("year",1),J("Y",Hn),J("YY",Fn,xn),J("YYYY",An,In),J("YYYYY",Gn,Nn),J("YYYYYY",Gn,Nn),ee(["YYYYY","YYYYYY"],Bn),ee("YYYY",function(t,r){r[Bn]=2===t.length?e.parseTwoDigitYear(t):S(t)}),ee("YY",function(t,r){r[Bn]=e.parseTwoDigitYear(t)}),ee("Y",function(e,t){t[Bn]=parseInt(e,10)}),e.parseTwoDigitYear=function(e){return S(e)+(S(e)>68?1900:2e3)};var la=A("FullYear",!0);j("w",["ww",2],"wo","week"),j("W",["WW",2],"Wo","isoWeek"),N("week","w"),N("isoWeek","W"),U("week",5),U("isoWeek",5),J("w",Fn),J("ww",Fn,xn),J("W",Fn),J("WW",Fn,xn),te(["w","ww","W","WW"],function(e,t,r,n){t[n.substr(0,1)]=S(e)});var ua={dow:0,doy:6};j("d",0,"do","day"),j("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),j("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),j("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),j("e",0,0,"weekday"),j("E",0,0,"isoWeekday"),N("day","d"),N("weekday","e"),N("isoWeekday","E"),U("day",11),U("weekday",11),U("isoWeekday",11),J("d",Fn),J("e",Fn),J("E",Fn),J("dd",function(e,t){return t.weekdaysMinRegex(e)}),J("ddd",function(e,t){return t.weekdaysShortRegex(e)}),J("dddd",function(e,t){return t.weekdaysRegex(e)}),te(["dd","ddd","dddd"],function(e,t,r,n){var a=r._locale.weekdaysParse(e,n,r._strict);null!=a?t.d=a:d(r).invalidWeekday=e}),te(["d","e","E"],function(e,t,r,n){t[n]=S(e)});var ca="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),da="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),fa="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),ha=Wn,ma=Wn,pa=Wn;j("H",["HH",2],0,"hour"),j("h",["hh",2],0,qe),j("k",["kk",2],0,Ve),j("hmm",0,0,function(){return""+qe.apply(this)+W(this.minutes(),2)}),j("hmmss",0,0,function(){return""+qe.apply(this)+W(this.minutes(),2)+W(this.seconds(),2)}),j("Hmm",0,0,function(){return""+this.hours()+W(this.minutes(),2)}),j("Hmmss",0,0,function(){return""+this.hours()+W(this.minutes(),2)+W(this.seconds(),2)}),We("a",!0),We("A",!1),N("hour","h"),U("hour",13),J("a",je),J("A",je),J("H",Fn),J("h",Fn),J("HH",Fn,xn),J("hh",Fn,xn),J("hmm",Cn),J("hmmss",Un),J("Hmm",Cn),J("Hmmss",Un),ee(["H","HH"],Jn),ee(["a","A"],function(e,t,r){r._isPm=r._locale.isPM(e),r._meridiem=e}),ee(["h","hh"],function(e,t,r){t[Jn]=S(e),d(r).bigHour=!0}),ee("hmm",function(e,t,r){var n=e.length-2;t[Jn]=S(e.substr(0,n)),t[$n]=S(e.substr(n)),d(r).bigHour=!0}),ee("hmmss",function(e,t,r){var n=e.length-4,a=e.length-2;t[Jn]=S(e.substr(0,n)),t[$n]=S(e.substr(n,2)),t[Xn]=S(e.substr(a)),d(r).bigHour=!0}),ee("Hmm",function(e,t,r){var n=e.length-2;t[Jn]=S(e.substr(0,n)),t[$n]=S(e.substr(n))}),ee("Hmmss",function(e,t,r){var n=e.length-4,a=e.length-2;t[Jn]=S(e.substr(0,n)),t[$n]=S(e.substr(n,2)),t[Xn]=S(e.substr(a))});var ya,ga=A("Hours",!0),_a={calendar:Mn,longDateFormat:Dn,invalidDate:"Invalid date",ordinal:"%d",ordinalParse:/\d{1,2}/,relativeTime:Rn,months:aa,monthsShort:sa,week:ua,weekdays:ca,weekdaysMin:fa,weekdaysShort:da,meridiemParse:/[ap]\.?m?\.?/i},Sa={},va={},ba=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,wa=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Ma=/Z|[+-]\d\d(?::?\d\d)?/,Da=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Ra=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Oa=/^\/?Date\((\-?\d+)/i;e.createFromInputFallback=w("value provided is not in a recognized ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),e.ISO_8601=function(){};var Ta=w("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=gt.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:h()}),ka=w("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=gt.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:h()}),Pa=function(){return Date.now?Date.now():+new Date};Dt("Z",":"),Dt("ZZ",""),J("Z",Vn),J("ZZ",Vn),ee(["Z","ZZ"],function(e,t,r){r._useUTC=!0,r._tzm=Rt(Vn,e)});var La=/([\+\-]|\d\d)/gi;e.updateOffset=function(){};var Ya=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,xa=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;At.fn=bt.prototype;var Ia=Vt(1,"add"),Na=Vt(-1,"subtract");e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Fa=w("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});j(0,["gg",2],0,function(){return this.weekYear()%100}),j(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Dr("gggg","weekYear"),Dr("ggggg","weekYear"),Dr("GGGG","isoWeekYear"),Dr("GGGGG","isoWeekYear"),N("weekYear","gg"),N("isoWeekYear","GG"),U("weekYear",1),U("isoWeekYear",1),J("G",Hn),J("g",Hn),J("GG",Fn,xn),J("gg",Fn,xn),J("GGGG",An,In),J("gggg",An,In),J("GGGGG",Gn,Nn),J("ggggg",Gn,Nn),te(["gggg","ggggg","GGGG","GGGGG"],function(e,t,r,n){t[n.substr(0,2)]=S(e)}),te(["gg","GG"],function(t,r,n,a){r[a]=e.parseTwoDigitYear(t)}),j("Q",0,"Qo","quarter"),N("quarter","Q"),U("quarter",7),J("Q",/\d/),ee("Q",function(e,t){t[Zn]=3*(S(e)-1)}),j("D",["DD",2],"Do","date"),N("date","D"),U("date",9),J("D",Fn),J("DD",Fn,xn),J("Do",function(e,t){return e?t._ordinalParse:t._ordinalParseLenient}),ee(["D","DD"],Qn),ee("Do",function(e,t){t[Qn]=S(e.match(Fn)[0],10)});var Ca=A("Date",!0);j("DDD",["DDDD",3],"DDDo","dayOfYear"),N("dayOfYear","DDD"),U("dayOfYear",4),J("DDD",En),J("DDDD",/\d{3}/),ee(["DDD","DDDD"],function(e,t,r){r._dayOfYear=S(e)}),j("m",["mm",2],0,"minute"),N("minute","m"),U("minute",14),J("m",Fn),J("mm",Fn,xn),ee(["m","mm"],$n);var Ua=A("Minutes",!1);j("s",["ss",2],0,"second"),N("second","s"),U("second",15),J("s",Fn),J("ss",Fn,xn),ee(["s","ss"],Xn);var Ea=A("Seconds",!1);j("S",0,0,function(){return~~(this.millisecond()/100)}),j(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),j(0,["SSS",3],0,"millisecond"),j(0,["SSSS",4],0,function(){return 10*this.millisecond()}),j(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),j(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),j(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),j(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),j(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),N("millisecond","ms"),U("millisecond",16),J("S",En,/\d/),J("SS",En,xn),J("SSS",En,/\d{3}/);var Aa;for(Aa="SSSS";Aa.length<=9;Aa+="S")J(Aa,/\d+/);for(Aa="S";Aa.length<=9;Aa+="S")ee(Aa,Ir);var Ga=A("Milliseconds",!1);j("z",0,0,"zoneAbbr"),j("zz",0,0,"zoneName");var Ha=y.prototype;Ha.add=Ia,Ha.calendar=zt,Ha.clone=Bt,Ha.diff=er,Ha.endOf=hr,Ha.format=sr,Ha.from=ir,Ha.fromNow=or,Ha.to=lr,Ha.toNow=ur,Ha.get=q,Ha.invalidAt=wr,Ha.isAfter=Zt,Ha.isBefore=Qt,Ha.isBetween=Jt,Ha.isSame=$t,Ha.isSameOrAfter=Xt,Ha.isSameOrBefore=Kt,Ha.isValid=vr,Ha.lang=Fa,Ha.locale=cr,Ha.localeData=dr,Ha.max=ka,Ha.min=Ta,Ha.parsingFlags=br,Ha.set=V,Ha.startOf=fr,Ha.subtract=Na,Ha.toArray=gr,Ha.toObject=_r,Ha.toDate=yr,Ha.toISOString=nr,Ha.inspect=ar,Ha.toJSON=Sr,Ha.toString=rr,Ha.unix=pr,Ha.valueOf=mr,Ha.creationData=Mr,Ha.year=la,Ha.isLeapYear=ye,Ha.weekYear=Rr,Ha.isoWeekYear=Or,Ha.quarter=Ha.quarters=Yr,Ha.month=ue,Ha.daysInMonth=ce,Ha.week=Ha.weeks=Oe,Ha.isoWeek=Ha.isoWeeks=Te,Ha.weeksInYear=kr,Ha.isoWeeksInYear=Tr,Ha.date=Ca,Ha.day=Ha.days=Fe,Ha.weekday=Ce,Ha.isoWeekday=Ue,Ha.dayOfYear=xr,Ha.hour=Ha.hours=ga,Ha.minute=Ha.minutes=Ua,Ha.second=Ha.seconds=Ea,Ha.millisecond=Ha.milliseconds=Ga,Ha.utcOffset=kt,Ha.utc=Lt,Ha.local=Yt,Ha.parseZone=xt,Ha.hasAlignedHourOffset=It,Ha.isDST=Nt,Ha.isLocal=Ct,Ha.isUtcOffset=Ut,Ha.isUtc=Et,Ha.isUTC=Et,Ha.zoneAbbr=Nr,Ha.zoneName=Fr,Ha.dates=w("dates accessor is deprecated. Use date instead.",Ca),Ha.months=w("months accessor is deprecated. Use month instead",ue),Ha.years=w("years accessor is deprecated. Use year instead",la),Ha.zone=w("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Pt),Ha.isDSTShifted=w("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Ft);var qa=T.prototype;qa.calendar=k,qa.longDateFormat=P,qa.invalidDate=L,qa.ordinal=Y,qa.preparse=Er,qa.postformat=Er,qa.relativeTime=x,qa.pastFuture=I,qa.set=R,qa.months=ae,qa.monthsShort=se,qa.monthsParse=oe,qa.monthsRegex=fe,qa.monthsShortRegex=de,qa.week=Me,qa.firstDayOfYear=Re,qa.firstDayOfWeek=De,qa.weekdays=Le,qa.weekdaysMin=xe,qa.weekdaysShort=Ye,qa.weekdaysParse=Ne,qa.weekdaysRegex=Ee,qa.weekdaysShortRegex=Ae,qa.weekdaysMinRegex=Ge,qa.isPM=ze,qa.meridiem=Be,$e("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===S(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),e.lang=w("moment.lang is deprecated. Use moment.locale instead.",$e),e.langData=w("moment.langData is deprecated. Use moment.localeData instead.",et);var Va=Math.abs,Wa=nn("ms"),ja=nn("s"),za=nn("m"),Ba=nn("h"),Za=nn("d"),Qa=nn("w"),Ja=nn("M"),$a=nn("y"),Xa=sn("milliseconds"),Ka=sn("seconds"),es=sn("minutes"),ts=sn("hours"),rs=sn("days"),ns=sn("months"),as=sn("years"),ss=Math.round,is={s:45,m:45,h:22,d:26,M:11},os=Math.abs,ls=bt.prototype;return ls.abs=Br,ls.add=Qr,ls.subtract=Jr,ls.as=tn,ls.asMilliseconds=Wa,ls.asSeconds=ja,ls.asMinutes=za,ls.asHours=Ba,ls.asDays=Za,ls.asWeeks=Qa,ls.asMonths=Ja,ls.asYears=$a,ls.valueOf=rn,ls._bubble=Xr,ls.get=an,ls.milliseconds=Xa,ls.seconds=Ka,ls.minutes=es,ls.hours=ts,ls.days=rs,ls.weeks=on,ls.months=ns,ls.years=as,ls.humanize=fn,ls.toISOString=hn,ls.toString=hn,ls.toJSON=hn,ls.locale=cr,ls.localeData=dr,ls.toIsoString=w("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",hn),ls.lang=Fa,j("X",0,0,"unix"),j("x",0,0,"valueOf"),J("x",Hn),J("X",/[+-]?\d+(\.\d{1,3})?/),ee("X",function(e,t,r){r._d=new Date(1e3*parseFloat(e,10))}),ee("x",function(e,t,r){r._d=new Date(S(e))}),e.version="2.17.1",function(e){mn=e}(gt),e.fn=Ha,e.min=St,e.max=vt,e.now=Pa,e.utc=u,e.unix=Cr,e.months=qr,e.isDate=s,e.locale=$e,e.invalid=h,e.duration=At,e.isMoment=g,e.weekdays=Wr,e.parseZone=Ur,e.localeData=et,e.isDuration=wt,e.monthsShort=Vr,e.weekdaysMin=zr,e.defineLocale=Xe,e.updateLocale=Ke,e.locales=tt,e.weekdaysShort=jr,e.normalizeUnits=F,e.relativeTimeRounding=cn,e.relativeTimeThreshold=dn,e.calendarFormat=jt,e.prototype=Ha,e});